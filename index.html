<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Websocket Demo</title>
</head>
<body>
    <textarea placeholder="Write something to the server..."></textarea>
    <button>Send Message</button>
    <script type="text/javascript">
        const textArea = document.querySelector("textarea");
        const button = document.querySelector("button");
        const websocket = new WebSocket(`ws://${location.host}/connect`);

        websocket.onmessage = message => console.log("Got websocket message:", message);

        button.addEventListener("click", clickEvent => {
            websocket.send(textArea.value);
        })
    </script>
</body>
</html>